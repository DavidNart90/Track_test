2025-07-21 15:12:21,937 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:12:26,677 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:12:27,346 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:12:27,346 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:12:27,347 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:12:29,838 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:12:29,838 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:12:50,448 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 15:12:50,672 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 15:12:50,806 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 15:12:50,807 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 15:12:56,115 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:12:59,013 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:12:59,705 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:12:59,706 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:12:59,706 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:13:02,038 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:13:02,039 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:13:20,362 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 15:13:20,625 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 15:13:20,778 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 15:13:20,778 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 15:13:24,088 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:13:29,111 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:13:30,512 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:13:30,512 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:13:30,513 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:13:34,440 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:13:34,440 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:13:45,559 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 15:13:45,785 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 15:13:45,915 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 15:13:45,916 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 15:13:49,168 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:13:52,352 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:13:53,054 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:13:53,055 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:13:53,055 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:13:55,316 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:13:55,317 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:13:56,281 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 15:13:56,910 - src.trackrealties.agents.context - INFO - Created new context for session 20be11fb-e457-4f6b-873e-31746c0b9f51
2025-07-21 15:13:56,910 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 15:13:56,911 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: Hello, agent!
2025-07-21 15:13:56,911 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Los Angeles County, CA', 'type': 'LOCATION'}, {'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 15:13:56,911 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 15:13:57,336 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 15:13:57,337 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 15:13:57,338 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:13:57,338 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 15:13:57,338 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 15:13:57,338 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 15:13:57,644 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: Hello, agent!
2025-07-21 15:13:58,571 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 15:13:59,904 - neo4j.notifications - WARNING - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: id)} {position: line: 5, column: 33, offset: 121} for query: '\n        MATCH (e)\n        WHERE e.name IN $entities\n        MATCH (e)-[*1..2]-(related)\n        RETURN coalesce(related.id, "default-id") AS id, \n               coalesce(related.content, "No Content") AS content, \n               "graph_fact" as result_type,\n               coalesce(related.title, "No Title") as title,\n               coalesce(related.source, "No Source") as source,\n               0.5 AS score\n        LIMIT $limit\n        '
2025-07-21 15:13:59,905 - neo4j.notifications - WARNING - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: title)} {position: line: 8, column: 33, offset: 291} for query: '\n        MATCH (e)\n        WHERE e.name IN $entities\n        MATCH (e)-[*1..2]-(related)\n        RETURN coalesce(related.id, "default-id") AS id, \n               coalesce(related.content, "No Content") AS content, \n               "graph_fact" as result_type,\n               coalesce(related.title, "No Title") as title,\n               coalesce(related.source, "No Source") as source,\n               0.5 AS score\n        LIMIT $limit\n        '
2025-07-21 15:14:01,469 - src.trackrealties.rag.search - INFO - Hybrid search for: Hello, agent!
2025-07-21 15:14:01,469 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='default-id', result_type='graph_fact', title='No Title', content='Los Angeles County, CA Market Report (county)\nDate: 2025-06-23 00:00:00\n\nKey Metrics:\n• Median Price: $922,500.00\n• Inventory Count: 17,109.0\n• Sales Volume: 970.0\n• Days on Market: 42.0\n• Months Supply: 17.64\n• Price per Sq Ft: $594.10\n\nSource: redfin\nLast Updated: 2025-07-02 13:35:24.651', relevance_score=0.5, similarity_score=None, source='redfin', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 15:14:01,470 - src.trackrealties.rag.validation - INFO - Validating response
2025-07-21 15:14:01,470 - src.trackrealties.rag.validation - INFO - Detecting hallucinations in response
2025-07-21 15:15:49,322 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 15:15:49,557 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 15:15:49,825 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 15:15:49,826 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 15:15:53,130 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:15:57,164 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:15:57,869 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:15:57,870 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:15:57,870 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:16:00,518 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:16:00,518 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:16:18,942 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 15:16:19,185 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 15:16:19,323 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 15:16:19,323 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 15:16:22,547 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:16:25,506 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:16:26,247 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:16:26,248 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:16:26,249 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:16:28,710 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:16:28,710 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:16:38,303 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 15:16:38,550 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 15:16:38,709 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 15:16:38,709 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 15:16:41,981 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:16:45,046 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:16:45,673 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:16:45,674 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:16:45,675 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:16:47,882 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:16:47,882 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:16:48,773 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 15:16:49,399 - src.trackrealties.agents.context - INFO - Created new context for session 2aee780c-dc52-4dda-acb3-3fcc82dc13a5
2025-07-21 15:16:49,399 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 15:16:49,399 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: Hello, developer agent!
2025-07-21 15:16:49,400 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Los Angeles County, CA', 'type': 'LOCATION'}, {'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 15:16:49,400 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 15:16:49,825 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 15:16:49,825 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 15:16:49,826 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:16:49,826 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 15:16:49,826 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 15:16:49,827 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 15:16:50,129 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: Hello, developer agent!
2025-07-21 15:16:51,467 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 15:16:52,222 - neo4j.notifications - WARNING - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: id)} {position: line: 5, column: 33, offset: 121} for query: '\n        MATCH (e)\n        WHERE e.name IN $entities\n        MATCH (e)-[*1..2]-(related)\n        RETURN coalesce(related.id, "default-id") AS id, \n               coalesce(related.content, "No Content") AS content, \n               "graph_fact" as result_type,\n               coalesce(related.title, "No Title") as title,\n               coalesce(related.source, "No Source") as source,\n               0.5 AS score\n        LIMIT $limit\n        '
2025-07-21 15:16:52,223 - neo4j.notifications - WARNING - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: title)} {position: line: 8, column: 33, offset: 291} for query: '\n        MATCH (e)\n        WHERE e.name IN $entities\n        MATCH (e)-[*1..2]-(related)\n        RETURN coalesce(related.id, "default-id") AS id, \n               coalesce(related.content, "No Content") AS content, \n               "graph_fact" as result_type,\n               coalesce(related.title, "No Title") as title,\n               coalesce(related.source, "No Source") as source,\n               0.5 AS score\n        LIMIT $limit\n        '
2025-07-21 15:16:54,303 - src.trackrealties.rag.search - INFO - Hybrid search for: Hello, developer agent!
2025-07-21 15:16:54,303 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='default-id', result_type='graph_fact', title='No Title', content='Los Angeles County, CA Market Report (county)\nDate: 2025-06-23 00:00:00\n\nKey Metrics:\n• Median Price: $922,500.00\n• Inventory Count: 17,109.0\n• Sales Volume: 970.0\n• Days on Market: 42.0\n• Months Supply: 17.64\n• Price per Sq Ft: $594.10\n\nSource: redfin\nLast Updated: 2025-07-02 13:35:24.651', relevance_score=0.5, similarity_score=None, source='redfin', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 15:16:54,303 - src.trackrealties.rag.validation - INFO - Validating response
2025-07-21 15:16:54,304 - src.trackrealties.rag.validation - INFO - Detecting hallucinations in response
2025-07-21 15:18:45,516 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 15:18:45,744 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 15:18:46,044 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 15:18:46,044 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 15:31:24,086 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:31:28,077 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:31:28,875 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:31:28,875 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:31:28,876 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:31:31,393 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:31:31,394 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:34:48,380 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 15:34:48,666 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 15:34:48,841 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 15:34:48,842 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 15:34:52,250 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:34:55,868 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:34:56,599 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:34:56,599 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:34:56,600 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:34:59,565 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:34:59,565 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:35:20,383 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 15:35:20,611 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 15:35:20,759 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 15:35:20,760 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 15:35:24,001 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:35:26,989 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:35:27,689 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:35:27,690 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:35:27,690 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:35:29,977 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:35:29,977 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:37:01,412 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 15:37:01,634 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 15:37:01,769 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 15:37:01,769 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 15:37:05,298 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:37:08,227 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:37:08,877 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:37:08,878 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:37:08,878 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:37:11,426 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:37:11,426 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:37:52,438 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 15:37:52,673 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 15:37:52,806 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 15:37:52,806 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 15:37:56,067 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:37:59,083 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:37:59,777 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:37:59,778 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:37:59,778 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:38:02,127 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:38:02,127 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:39:35,573 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 15:39:35,811 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 15:39:35,960 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 15:39:35,960 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 15:39:39,351 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:39:42,384 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:39:43,111 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:39:43,112 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:39:43,112 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:39:45,568 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:39:45,568 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:42:25,735 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 15:42:26,002 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 15:42:26,183 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 15:42:26,183 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 15:42:29,493 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:42:32,885 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:42:33,796 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:42:33,797 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:42:33,797 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:42:36,976 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:42:36,976 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:43:04,898 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 15:43:05,134 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 15:43:05,278 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 15:43:05,278 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 15:43:10,389 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:43:13,530 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:43:14,244 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:43:14,244 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:43:14,245 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:43:16,918 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:43:16,918 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:43:49,537 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 15:43:50,168 - src.trackrealties.agents.context - INFO - Created new context for session 17915019-c2dc-41c0-ba4d-45899ab6eda3
2025-07-21 15:43:50,168 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 15:43:50,168 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 15:43:50,169 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 15:43:50,169 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 15:43:50,589 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 15:43:50,589 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 15:43:50,590 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:43:50,590 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 15:43:50,590 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 15:43:50,590 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 15:43:50,886 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 15:43:51,599 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 15:43:54,547 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 15:43:54,547 - src.trackrealties.rag.pipeline - INFO - Search results: []
2025-07-21 15:43:54,547 - src.trackrealties.rag.validation - INFO - Validating response
2025-07-21 15:43:54,548 - src.trackrealties.rag.validation - INFO - Detecting hallucinations in response
2025-07-21 15:44:09,079 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 15:44:09,317 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 15:44:09,613 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 15:44:09,613 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 15:44:13,219 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:44:16,485 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:44:17,146 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:44:17,146 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:44:17,146 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:44:19,371 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:44:19,371 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:44:41,936 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 15:44:42,543 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 15:44:42,689 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 15:44:42,690 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 15:44:46,030 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:44:48,839 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:44:49,503 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:44:49,503 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:44:49,504 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:44:51,702 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:44:51,702 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:45:03,384 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 15:45:04,013 - src.trackrealties.agents.context - INFO - Created new context for session 09058f71-9d16-45be-9ba5-1370b95f539d
2025-07-21 15:45:04,014 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 15:45:04,014 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 15:45:04,015 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 15:45:04,015 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 15:45:04,444 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 15:45:04,444 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 15:45:04,445 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:45:04,445 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 15:45:04,446 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 15:45:04,446 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 15:45:04,750 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 15:45:06,845 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 15:45:09,696 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 15:45:09,696 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 15:45:09,697 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: 'Agent' object has no attribute 'arun'
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 57, in synthesize_response
    response = await self.agent.arun(prompt)
                     ^^^^^^^^^^^^^^^
AttributeError: 'Agent' object has no attribute 'arun'. Did you mean: 'run'?
2025-07-21 15:45:55,805 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 15:45:56,045 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 15:45:56,311 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 15:45:56,311 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 15:45:59,684 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:46:03,363 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:46:04,063 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:46:04,064 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:46:04,064 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:46:06,694 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:46:06,694 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:46:20,215 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 15:46:20,455 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 15:46:20,613 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 15:46:20,614 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 15:46:28,248 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:46:31,160 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:46:31,819 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:46:31,820 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:46:31,821 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:46:34,208 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:46:34,208 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:46:48,344 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 15:46:48,973 - src.trackrealties.agents.context - INFO - Created new context for session da5602bd-6db7-4f44-8be0-797eac866cce
2025-07-21 15:46:48,973 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 15:46:48,973 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 15:46:48,974 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 15:46:48,974 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 15:46:49,403 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 15:46:49,403 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 15:46:49,404 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:46:49,404 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 15:46:49,404 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 15:46:49,405 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 15:46:49,717 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 15:46:50,948 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 15:46:53,942 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 15:46:53,943 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 15:46:53,943 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 57, in synthesize_response
    response = await self.agent.run(prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 15:47:07,573 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 15:47:07,894 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 15:47:08,331 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 15:47:08,331 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 15:54:41,098 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:54:44,412 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:54:45,093 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:54:45,094 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:54:45,094 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:54:47,712 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:54:47,712 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:54:50,903 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:54:53,893 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:54:54,566 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:54:54,567 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:54:54,567 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:54:56,997 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:54:56,997 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:55:06,222 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 15:55:06,855 - src.trackrealties.agents.context - INFO - Created new context for session 5ff90769-ccac-49dc-89ef-c394ccfd665a
2025-07-21 15:55:06,855 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 15:55:06,856 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 15:55:06,856 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 15:55:06,857 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 15:55:07,282 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 15:55:07,282 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 15:55:07,282 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:55:07,283 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 15:55:07,283 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 15:55:07,283 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 15:55:07,571 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 15:55:08,795 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 15:55:13,570 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 15:55:13,571 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 15:55:13,571 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 15:55:51,037 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 15:55:51,274 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 15:55:51,542 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 15:55:51,542 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 15:55:54,782 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 15:55:59,458 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 15:56:00,111 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 15:56:00,111 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:56:00,112 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 15:56:02,657 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 15:56:02,657 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 15:56:16,397 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 15:56:17,050 - src.trackrealties.agents.context - INFO - Created new context for session bddd9884-820a-4e06-b7c7-ae34e92d37e8
2025-07-21 15:56:17,050 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 15:56:17,050 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 15:56:17,051 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 15:56:17,051 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 15:56:17,485 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 15:56:17,486 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 15:56:17,486 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:56:17,486 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 15:56:17,487 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 15:56:17,487 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 15:56:17,790 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 15:56:18,493 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 15:56:21,355 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 15:56:21,356 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 15:56:21,356 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt, llm=llm)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 15:56:39,276 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 15:56:39,280 - src.trackrealties.agents.context - INFO - Created new context for session 0bd0926a-836c-44cc-a950-442866c874a0
2025-07-21 15:56:39,280 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 15:56:39,280 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 15:56:39,281 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 15:56:39,281 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 15:56:39,720 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 15:56:39,721 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 15:56:39,721 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 15:56:39,721 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 15:56:39,722 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 15:56:39,722 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 15:56:39,723 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 15:56:40,505 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 15:56:42,364 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 15:56:42,365 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 15:56:42,365 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt, llm=llm)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 16:01:44,266 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:01:44,267 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:01:44,536 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:01:44,536 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:01:47,809 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:01:50,792 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:01:51,451 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:01:51,452 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:01:51,453 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:01:53,940 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:01:53,940 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:03:53,292 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:03:53,934 - src.trackrealties.agents.context - INFO - Created new context for session e891a53e-4a63-4170-bd1c-c2d2f1304c22
2025-07-21 16:03:53,934 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:03:53,934 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:03:53,935 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:03:53,935 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:03:54,370 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:03:54,370 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:03:54,370 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:03:54,371 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:03:54,371 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:03:54,371 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:03:54,666 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:03:55,488 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:03:58,282 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:03:58,282 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:03:58,283 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: 'OpenAIProvider' object has no attribute 'split'
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt, model=llm)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1588, in _get_model
    model_ = models.infer_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\models\__init__.py", line 539, in infer_model
    provider, model_name = model.split(':', maxsplit=1)
                           ^^^^^^^^^^^
AttributeError: 'OpenAIProvider' object has no attribute 'split'
2025-07-21 16:06:22,654 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:06:22,877 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:06:23,144 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:06:23,144 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:07:22,775 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:07:25,773 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:07:26,426 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:07:26,427 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:07:26,427 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:07:28,901 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:07:28,901 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:08:30,796 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:08:31,434 - src.trackrealties.agents.context - INFO - Created new context for session 0d7e9d38-8984-4477-997a-3975223bee89
2025-07-21 16:08:31,434 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:08:31,434 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:08:31,435 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:08:31,435 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:08:31,859 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:08:31,859 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:08:31,859 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:08:31,860 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:08:31,860 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:08:31,860 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:08:32,148 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:08:34,159 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:08:36,905 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:08:36,905 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:08:36,905 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: 'OpenAIProvider' object has no attribute 'split'
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt, model=llm)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1588, in _get_model
    model_ = models.infer_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\models\__init__.py", line 539, in infer_model
    provider, model_name = model.split(':', maxsplit=1)
                           ^^^^^^^^^^^
AttributeError: 'OpenAIProvider' object has no attribute 'split'
2025-07-21 16:09:54,103 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:09:57,132 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:09:57,802 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:09:57,802 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:09:57,802 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:10:00,277 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:10:00,277 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:10:27,366 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:10:30,305 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:10:30,969 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:10:30,969 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:10:30,969 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:10:33,386 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:10:33,387 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:17:15,178 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:17:15,802 - src.trackrealties.agents.context - INFO - Created new context for session 4ed7b3b0-17a7-4419-867f-759e741a5437
2025-07-21 16:17:15,803 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:17:15,803 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:17:15,804 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:17:15,804 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:17:16,233 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:17:16,234 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:17:16,234 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:17:16,234 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:17:16,235 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:17:16,235 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:17:16,538 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:17:17,319 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:17:21,706 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:17:21,706 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:17:21,707 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: 'OpenAIProvider' object has no attribute 'split'
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt, model=llm)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1588, in _get_model
    model_ = models.infer_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\models\__init__.py", line 539, in infer_model
    provider, model_name = model.split(':', maxsplit=1)
                           ^^^^^^^^^^^
AttributeError: 'OpenAIProvider' object has no attribute 'split'
2025-07-21 16:17:43,750 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:17:43,992 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:17:44,258 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:17:44,258 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:17:47,494 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:17:50,346 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:17:51,032 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:17:51,033 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:17:51,033 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:17:53,210 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:17:53,210 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:17:54,822 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:17:55,449 - src.trackrealties.agents.context - INFO - Created new context for session e23f99c6-e28b-4339-b13e-61d0304fcf10
2025-07-21 16:17:55,449 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:17:55,449 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:17:55,450 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:17:55,450 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:17:55,871 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:17:55,871 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:17:55,872 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:17:55,872 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:17:55,872 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:17:55,873 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:17:56,163 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:17:56,975 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:18:00,515 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:18:00,516 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:18:00,516 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: OpenAIProvider.__init__() got an unexpected keyword argument 'model'
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 57, in synthesize_response
    llm = OpenAIProvider(api_key=settings.OPENAI_API_KEY, model=settings.DEFAULT_MODEL)
TypeError: OpenAIProvider.__init__() got an unexpected keyword argument 'model'
2025-07-21 16:18:37,891 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:18:38,125 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:18:38,389 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:18:38,389 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:18:41,696 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:18:44,545 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:18:45,161 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:18:45,162 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:18:45,162 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:18:47,581 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:18:47,582 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:18:49,081 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:18:49,705 - src.trackrealties.agents.context - INFO - Created new context for session 93feaf1d-6f47-4f31-9976-058a9df61fa3
2025-07-21 16:18:49,705 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:18:49,705 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:18:49,706 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:18:49,706 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:18:50,131 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:18:50,132 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:18:50,132 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:18:50,132 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:18:50,133 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:18:50,133 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:18:50,429 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:18:51,715 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:18:54,368 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:18:54,368 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:18:54,369 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 16:19:28,343 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:19:28,572 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:19:28,859 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:19:28,859 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:19:32,162 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:19:35,143 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:19:35,831 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:19:35,831 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:19:35,832 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:19:38,184 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:19:38,184 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:19:39,799 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:19:40,423 - src.trackrealties.agents.context - INFO - Created new context for session 627f4dd4-910a-4d93-b064-2a477a64e61c
2025-07-21 16:19:40,424 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:19:40,424 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:19:40,425 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:19:40,425 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:19:40,858 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:19:40,858 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:19:40,858 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:19:40,859 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:19:40,859 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:19:40,859 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:19:41,142 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:19:42,115 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:19:45,025 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:19:45,025 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:19:45,026 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 16:20:29,334 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:20:29,572 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:20:29,832 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:20:29,832 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:20:33,127 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:20:37,497 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:20:38,612 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:20:38,612 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:20:38,613 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:20:41,367 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:20:41,368 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:20:43,008 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:20:43,626 - src.trackrealties.agents.context - INFO - Created new context for session 98f5b3db-2e71-49a1-a80f-6d54fa9d13ca
2025-07-21 16:20:43,627 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:20:43,627 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:20:43,628 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:20:43,628 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:20:44,054 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:20:44,055 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:20:44,055 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:20:44,055 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:20:44,056 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:20:44,056 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:20:44,333 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:20:45,500 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:20:48,319 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:20:48,319 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:20:48,320 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 16:21:43,298 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:21:43,525 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:21:43,790 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:21:43,791 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:21:47,017 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:21:50,103 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:21:50,790 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:21:50,791 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:21:50,791 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:21:53,274 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:21:53,275 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:21:56,371 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:21:56,997 - src.trackrealties.agents.context - INFO - Created new context for session 16fa62e1-cbd7-4dd1-85d3-86abbc58d321
2025-07-21 16:21:56,997 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:21:56,997 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:21:56,998 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:21:56,999 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:21:57,423 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:21:57,424 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:21:57,424 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:21:57,424 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:21:57,425 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:21:57,425 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:21:57,726 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:21:58,443 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:22:01,147 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:22:01,147 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:22:01,148 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 16:23:01,258 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:23:01,479 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:23:01,740 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:23:01,741 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:23:05,759 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:23:08,706 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:23:09,353 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:23:09,353 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:23:09,354 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:23:11,894 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:23:11,895 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:23:18,734 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:23:19,459 - src.trackrealties.agents.context - INFO - Created new context for session f963a857-54bd-484a-a6b2-20e6a2efeeed
2025-07-21 16:23:19,460 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:23:19,460 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:23:19,461 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:23:19,461 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:23:19,892 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:23:19,892 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:23:19,892 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:23:19,892 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:23:19,893 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:23:19,893 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:23:20,258 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:23:22,460 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:23:25,218 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:23:25,219 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:23:25,220 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 16:24:05,646 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:24:05,650 - src.trackrealties.agents.context - INFO - Created new context for session 444bf55f-12ff-4812-a976-f0c0f6a36b2e
2025-07-21 16:24:05,650 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:24:05,650 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:24:05,651 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:24:05,651 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:24:06,075 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:24:06,075 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:24:06,076 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:24:06,076 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:24:06,076 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:24:06,076 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:24:06,077 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:24:06,967 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:24:08,131 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:24:08,131 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:24:08,131 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 16:27:30,357 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:27:30,585 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:27:30,852 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:27:30,853 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:27:34,230 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:27:37,857 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:27:38,540 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:27:38,541 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:27:38,541 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:27:41,143 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:27:41,143 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:30:08,967 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:30:09,597 - src.trackrealties.agents.context - INFO - Created new context for session 92db2d77-d172-44e3-b0c1-45d6ccd617ed
2025-07-21 16:30:09,597 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:30:09,598 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:30:09,598 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:30:09,599 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:30:10,032 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:30:10,032 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:30:10,033 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:30:10,033 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:30:10,033 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:30:10,034 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:30:10,326 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:30:11,048 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:30:13,810 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:30:13,810 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:30:13,811 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt, llm_kwargs={"model": settings.DEFAULT_MODEL})
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 16:31:10,513 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:31:10,750 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:31:11,021 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:31:11,022 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:31:14,710 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:31:17,710 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:31:18,364 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:31:18,364 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:31:18,364 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:31:20,986 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:31:20,986 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:31:24,667 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:31:27,638 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:31:28,308 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:31:28,309 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:31:28,309 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:31:30,619 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:31:30,620 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:37:48,155 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:37:48,770 - src.trackrealties.agents.context - INFO - Created new context for session 95af5c20-9cd3-4dd2-a8f6-fc527b5d104c
2025-07-21 16:37:48,770 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:37:48,770 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:37:48,772 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:37:48,772 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:37:49,204 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:37:49,204 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:37:49,205 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:37:49,205 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:37:49,205 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:37:49,205 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:37:49,483 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:37:50,365 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:37:55,201 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:37:55,201 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:37:55,202 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: OpenAIProvider.__init__() got an unexpected keyword argument 'model'
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 57, in synthesize_response
    llm = OpenAIProvider(api_key=settings.OPENAI_API_KEY, model=settings.DEFAULT_MODEL)
TypeError: OpenAIProvider.__init__() got an unexpected keyword argument 'model'
2025-07-21 16:38:14,871 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:38:15,097 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:38:15,364 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:38:15,365 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:38:18,656 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:38:21,545 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:38:22,220 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:38:22,220 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:38:22,220 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:38:24,471 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:38:24,472 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:38:27,598 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:38:30,464 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:38:31,141 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:38:31,142 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:38:31,142 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:38:33,294 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:38:33,295 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:38:34,867 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:38:35,498 - src.trackrealties.agents.context - INFO - Created new context for session 9e49eb17-0ce8-426c-8442-c49f201aac3f
2025-07-21 16:38:35,498 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:38:35,498 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:38:35,499 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:38:35,499 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:38:35,936 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:38:35,936 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:38:35,937 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:38:35,937 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:38:35,937 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:38:35,938 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:38:36,230 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:38:37,394 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:38:40,095 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:38:40,095 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:38:40,096 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt, llm_kwargs={"model": settings.DEFAULT_MODEL})
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 16:39:10,077 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:39:10,305 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:39:10,629 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:39:10,630 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:39:14,242 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:39:17,214 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:39:17,943 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:39:17,944 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:39:17,944 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:39:20,842 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:39:20,843 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:39:24,591 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:39:27,498 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:39:28,219 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:39:28,220 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:39:28,220 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:39:30,806 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:39:30,806 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:39:32,482 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:39:33,155 - src.trackrealties.agents.context - INFO - Created new context for session 0f1fa626-e6f2-45ab-8c03-7180786092cd
2025-07-21 16:39:33,155 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:39:33,155 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:39:33,156 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:39:33,156 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:39:33,620 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:39:33,620 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:39:33,621 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:39:33,621 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:39:33,621 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:39:33,622 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:39:33,943 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:39:34,877 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:39:37,602 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:39:37,602 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:39:37,602 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: OpenAIProvider.__init__() got an unexpected keyword argument 'model'
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 57, in synthesize_response
    llm = OpenAIProvider(api_key=settings.OPENAI_API_KEY, model=settings.DEFAULT_MODEL)
TypeError: OpenAIProvider.__init__() got an unexpected keyword argument 'model'
2025-07-21 16:40:01,474 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:40:01,700 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:40:01,970 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:40:01,970 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:40:05,689 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:40:08,625 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:40:09,326 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:40:09,327 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:40:09,327 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:40:11,615 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:40:11,615 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:40:12,163 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:40:12,399 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:40:12,531 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:40:12,531 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:40:16,162 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:40:19,186 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:40:19,853 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:40:19,854 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:40:19,854 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:40:22,297 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:40:22,298 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:40:23,928 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:40:24,593 - src.trackrealties.agents.context - INFO - Created new context for session 52a455f1-c575-4023-b902-a46b66dfe0ec
2025-07-21 16:40:24,594 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:40:24,594 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:40:24,595 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:40:24,595 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:40:25,041 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:40:25,042 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:40:25,042 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:40:25,042 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:40:25,043 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:40:25,043 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:40:25,367 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:40:26,225 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:40:29,117 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:40:29,118 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:40:29,118 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt, llm_kwargs={"model": settings.DEFAULT_MODEL})
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 16:40:59,973 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:41:00,213 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:41:00,485 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:41:00,485 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:41:04,173 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:41:07,042 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:41:07,717 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:41:07,718 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:41:07,718 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:41:10,046 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:41:10,046 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:41:10,484 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:41:10,731 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:41:10,883 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:41:10,883 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:41:14,485 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:41:17,539 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:41:18,249 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:41:18,250 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:41:18,250 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:41:20,661 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:41:20,662 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:41:24,089 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:41:24,757 - src.trackrealties.agents.context - INFO - Created new context for session 7c9e4458-2cd6-4480-babb-3ac6e06e228d
2025-07-21 16:41:24,757 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:41:24,757 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:41:24,758 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:41:24,758 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:41:25,213 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:41:25,213 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:41:25,214 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:41:25,214 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:41:25,214 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:41:25,215 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:41:25,537 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:41:26,321 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:41:29,199 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:41:29,200 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:41:29,200 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: OpenAIProvider.__init__() got an unexpected keyword argument 'model'
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 57, in synthesize_response
    agent = Agent(llm=OpenAIProvider(api_key=settings.OPENAI_API_KEY, model=settings.DEFAULT_MODEL))
                      ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: OpenAIProvider.__init__() got an unexpected keyword argument 'model'
2025-07-21 16:42:05,098 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:42:05,348 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:42:05,635 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:42:05,635 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:42:09,093 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:42:11,996 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:42:12,676 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:42:12,677 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:42:12,677 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:42:14,953 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:42:14,953 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:42:19,103 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:42:19,340 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:42:19,480 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:42:19,481 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:42:22,766 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:42:26,125 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:42:26,780 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:42:26,781 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:42:26,781 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:42:29,341 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:42:29,342 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:42:32,983 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:42:33,607 - src.trackrealties.agents.context - INFO - Created new context for session 064fa3ab-23ed-494a-890d-966638a78750
2025-07-21 16:42:33,608 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:42:33,608 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:42:33,608 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:42:33,609 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:42:34,036 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:42:34,037 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:42:34,037 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:42:34,038 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:42:34,038 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:42:34,038 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:42:34,318 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:42:35,344 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:42:38,096 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:42:38,096 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:42:38,097 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt, llm_kwargs={"model": settings.DEFAULT_MODEL})
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 16:43:51,388 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:43:51,619 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:43:52,623 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:43:52,624 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:43:56,178 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:43:59,168 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:43:59,825 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:43:59,825 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:43:59,826 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:44:02,853 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:44:02,854 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:44:10,610 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:44:10,855 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:44:10,985 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:44:10,985 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:44:14,401 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:44:19,493 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:44:20,190 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:44:20,190 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:44:20,191 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:44:22,461 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:44:22,461 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:44:27,783 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:44:28,489 - src.trackrealties.agents.context - INFO - Created new context for session 0d1a4e0f-6f4e-470a-99f3-4a3db7a59c65
2025-07-21 16:44:28,489 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:44:28,489 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:44:28,490 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:44:28,490 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:44:28,940 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:44:28,940 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:44:28,941 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:44:28,941 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:44:28,941 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:44:28,942 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:44:29,232 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:44:30,082 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:44:33,091 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:44:33,092 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:44:33,092 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: OpenAIProvider.__init__() got an unexpected keyword argument 'model'
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 57, in synthesize_response
    llm = OpenAIProvider(api_key=settings.OPENAI_API_KEY, model=settings.DEFAULT_MODEL)
TypeError: OpenAIProvider.__init__() got an unexpected keyword argument 'model'
2025-07-21 16:45:39,511 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:45:39,757 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:45:40,042 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:45:40,042 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:45:43,473 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:45:46,540 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:45:47,238 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:45:47,238 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:45:47,238 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:45:49,790 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:45:49,790 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:45:54,178 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:45:54,410 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:45:54,547 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:45:54,548 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:45:58,216 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:46:01,110 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:46:01,796 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:46:01,796 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:46:01,796 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:46:04,100 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:46:04,100 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:46:13,769 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:46:14,406 - src.trackrealties.agents.context - INFO - Created new context for session 7e1331d7-71a3-4b4c-a5cd-fadaf55bcfad
2025-07-21 16:46:14,407 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:46:14,407 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:46:14,408 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:46:14,409 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:46:14,853 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:46:14,854 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:46:14,854 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:46:14,854 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:46:14,855 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:46:14,855 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:46:15,142 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:46:16,238 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:46:19,045 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:46:19,045 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:46:19,046 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt, llm_kwargs={"model": settings.DEFAULT_MODEL})
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 16:47:27,215 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:47:27,456 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:47:27,751 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:47:27,751 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:47:30,916 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:47:33,947 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:47:34,623 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:47:34,623 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:47:34,624 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:47:37,151 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:47:37,151 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:47:39,538 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:47:39,784 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:47:39,918 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:47:39,919 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:47:43,155 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:47:46,058 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:47:46,730 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:47:46,731 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:47:46,731 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:47:49,151 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:47:49,152 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:48:01,625 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:48:02,265 - src.trackrealties.agents.context - INFO - Created new context for session 2dd54716-a702-4092-81f5-191be05478a4
2025-07-21 16:48:02,265 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:48:02,266 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:48:02,266 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:48:02,267 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:48:02,704 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:48:02,704 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:48:02,705 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:48:02,705 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:48:02,705 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:48:02,706 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:48:02,988 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:48:03,934 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:48:06,851 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:48:06,851 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:48:06,852 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: OpenAIProvider.__init__() got an unexpected keyword argument 'model'
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 57, in synthesize_response
    llm = OpenAIProvider(api_key=settings.OPENAI_API_KEY, model=settings.DEFAULT_MODEL)
TypeError: OpenAIProvider.__init__() got an unexpected keyword argument 'model'
2025-07-21 16:52:11,663 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:52:11,903 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:52:12,203 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:52:12,204 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:52:15,609 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:52:19,127 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:52:19,840 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:52:19,841 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:52:19,841 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:52:22,600 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:52:22,601 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:52:35,681 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:52:35,929 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:52:36,067 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:52:36,067 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:52:39,349 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:52:42,307 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:52:42,980 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:52:42,980 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:52:42,981 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:52:45,340 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:52:45,340 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 16:52:50,249 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 16:52:50,922 - src.trackrealties.agents.context - INFO - Created new context for session c66d80cb-95e3-4945-a4dc-06f67964288f
2025-07-21 16:52:50,922 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:52:50,922 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:52:50,923 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 16:52:50,924 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 16:52:51,367 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 16:52:51,367 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 16:52:51,368 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:52:51,368 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 16:52:51,368 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 16:52:51,369 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 16:52:51,678 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:52:53,938 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 16:52:56,902 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 16:52:56,902 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 16:52:56,903 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt, llm_kwargs={"model": settings.DEFAULT_MODEL})
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 16:54:55,550 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 16:54:55,792 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 16:54:56,070 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 16:54:56,070 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 16:56:41,684 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 16:56:44,876 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 16:56:45,561 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 16:56:45,562 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 16:56:45,562 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 16:56:48,164 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 16:56:48,165 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 17:02:01,656 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 17:02:02,291 - src.trackrealties.agents.context - INFO - Created new context for session afbc984d-f043-43ab-acd9-7f2d0adf3ea9
2025-07-21 17:02:02,292 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:02:02,292 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:02:02,293 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 17:02:02,293 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 17:02:02,734 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 17:02:02,734 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 17:02:02,735 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:02:02,735 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:02:02,735 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 17:02:02,736 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 17:02:03,079 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:02:04,032 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 17:02:09,128 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:02:09,128 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 17:02:09,129 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt, llm_kwargs={"model": settings.DEFAULT_MODEL})
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 17:05:20,312 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 17:05:20,558 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 17:05:20,845 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 17:05:20,845 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 17:06:24,476 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 17:06:27,955 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 17:06:28,631 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 17:06:28,632 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:06:28,632 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 17:06:31,192 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 17:06:31,192 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 17:06:56,384 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 17:06:57,006 - src.trackrealties.agents.context - INFO - Created new context for session 67a7fff0-22cd-4ca4-8e75-52de5a18541e
2025-07-21 17:06:57,006 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:06:57,006 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:06:57,007 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 17:06:57,007 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 17:06:57,430 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 17:06:57,430 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 17:06:57,431 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:06:57,431 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:06:57,431 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 17:06:57,432 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 17:06:57,727 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:06:58,766 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 17:07:01,644 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:07:01,645 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 17:07:01,646 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 61, in synthesize_response
    response = await agent.run(prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 17:07:37,165 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 17:07:37,404 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 17:07:37,685 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 17:07:37,686 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 17:07:40,994 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 17:07:44,102 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 17:07:44,789 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 17:07:44,790 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:07:44,790 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 17:07:47,340 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 17:07:47,340 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 17:07:50,900 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 17:07:53,835 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 17:07:54,512 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 17:07:54,513 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:07:54,513 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 17:07:57,108 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 17:07:57,109 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 17:08:00,491 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 17:08:03,416 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 17:08:04,080 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 17:08:04,080 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:08:04,081 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 17:08:06,411 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 17:08:06,412 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 17:08:09,795 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 17:08:12,698 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 17:08:13,366 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 17:08:13,366 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:08:13,366 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 17:08:15,590 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 17:08:15,590 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 17:08:18,951 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 17:08:21,924 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 17:08:22,631 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 17:08:22,631 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:08:22,632 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 17:08:24,973 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 17:08:24,974 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 17:08:28,301 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 17:08:31,255 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 17:08:31,957 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 17:08:31,957 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:08:31,958 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 17:08:34,237 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 17:08:34,237 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 17:08:37,721 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 17:08:40,994 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 17:08:41,699 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 17:08:41,700 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:08:41,700 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 17:08:44,110 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 17:08:44,110 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 17:08:45,849 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 17:08:46,483 - src.trackrealties.agents.context - INFO - Created new context for session 59902545-e4f8-4cd0-97ea-94cd2288c0c9
2025-07-21 17:08:46,483 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:08:46,483 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:08:46,484 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 17:08:46,484 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 17:08:46,916 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 17:08:46,916 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 17:08:46,917 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:08:46,917 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:08:46,917 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 17:08:46,917 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 17:08:47,209 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:08:49,023 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 17:08:51,815 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:08:51,815 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 17:08:51,816 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 120, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results, llm
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 17:09:20,060 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 17:09:20,318 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 17:09:20,610 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 17:09:20,610 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 17:09:24,097 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 17:09:27,274 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 17:09:28,014 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 17:09:28,014 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:09:28,015 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 17:09:30,306 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 17:09:30,306 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 17:09:42,258 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 17:09:42,905 - src.trackrealties.agents.context - INFO - Created new context for session 461644a6-0c45-4d3b-9ddc-977d631e284b
2025-07-21 17:09:42,906 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 126, in run
    response_content = await self.agent.run(message)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 17:09:55,759 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 17:09:56,002 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 17:09:56,145 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 17:09:56,145 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 17:09:59,413 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 17:10:03,085 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 17:10:03,774 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 17:10:03,775 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:10:03,775 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 17:10:06,524 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 17:10:06,525 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 17:10:15,591 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 17:10:15,837 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 17:10:15,971 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 17:10:15,971 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 17:10:19,312 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 17:10:22,254 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 17:10:22,992 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 17:10:22,993 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:10:22,994 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 17:10:25,552 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 17:10:25,552 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 17:10:25,777 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 17:10:26,013 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 17:10:26,159 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 17:10:26,160 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 17:10:29,456 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 17:10:32,539 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 17:10:33,293 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 17:10:33,293 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:10:33,294 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 17:10:35,766 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 17:10:35,766 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 17:10:47,233 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 17:10:47,885 - src.trackrealties.agents.context - INFO - Created new context for session eb5f1277-d319-4ee5-8fd9-736fa0fe48cc
2025-07-21 17:10:47,885 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:10:47,886 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:10:47,886 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 17:10:47,887 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 17:10:48,325 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 17:10:48,326 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 17:10:48,327 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:10:48,327 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:10:48,327 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 17:10:48,328 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 17:10:48,629 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:10:49,427 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 17:10:52,431 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:10:52,432 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 17:10:52,433 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 122, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results, llm
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 17:11:58,079 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 17:11:58,083 - src.trackrealties.agents.context - INFO - Created new context for session bd1d4f59-37e3-4d14-931e-cbf6e9435ef7
2025-07-21 17:11:58,083 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:11:58,084 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:11:58,084 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 17:11:58,084 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 17:11:58,513 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 17:11:58,513 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 17:11:58,514 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:11:58,514 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:11:58,514 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 17:11:58,515 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 17:11:58,515 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:12:01,334 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 17:12:02,075 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:12:02,076 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 17:12:02,076 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 122, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results, llm
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 17:19:13,133 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 17:19:13,133 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 17:19:13,426 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 17:19:13,426 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 17:19:16,756 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 17:19:20,281 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 17:19:20,976 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 17:19:20,977 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:19:20,977 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 17:19:23,520 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 17:19:23,520 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 17:19:26,731 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 17:19:29,677 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 17:19:30,373 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 17:19:30,373 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:19:30,374 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 17:19:32,937 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 17:19:32,937 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 17:20:08,850 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 17:20:09,474 - src.trackrealties.agents.context - INFO - Created new context for session 144d2fbc-1411-4efc-8760-30104b387ce6
2025-07-21 17:20:09,474 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:20:09,474 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:20:09,475 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 17:20:09,476 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 17:20:09,900 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 17:20:09,901 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 17:20:09,901 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:20:09,901 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:20:09,902 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 17:20:09,902 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 17:20:10,192 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:20:12,266 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 17:20:15,465 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:20:15,465 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 17:20:15,466 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 122, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results, llm
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt, llm=llm)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 17:26:26,903 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 17:26:26,908 - src.trackrealties.agents.context - INFO - Created new context for session 064d81b2-305a-4302-940b-d67581682f19
2025-07-21 17:26:26,908 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:26:26,909 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:26:26,909 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 17:26:26,909 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 17:26:27,330 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 17:26:27,330 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 17:26:27,331 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:26:27,331 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:26:27,331 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 17:26:27,332 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 17:26:27,332 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:26:28,156 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 17:26:32,848 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:26:32,848 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 17:26:32,849 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: `model` must either be set on the agent or included when calling it.
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 122, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\pipeline.py", line 59, in generate_response
    draft_response = await self.synthesizer.synthesize_response(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        query, search_results, llm
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\rag\synthesizer.py", line 59, in synthesize_response
    response = await agent.run(prompt, llm=llm)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 466, in run
    async with self.iter(
               ~~~~~~~~~^
        user_prompt=user_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        usage=usage,
        ^^^^^^^^^^^^
    ) as agent_run:
    ^
  File "c:\python313\Lib\contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 623, in iter
    model_used = self._get_model(model)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic_ai\agent.py", line 1593, in _get_model
    raise exceptions.UserError('`model` must either be set on the agent or included when calling it.')
pydantic_ai.exceptions.UserError: `model` must either be set on the agent or included when calling it.
2025-07-21 17:26:47,763 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 17:26:47,993 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 17:26:48,264 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 17:26:48,265 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 17:26:51,520 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 17:26:54,545 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 17:26:55,232 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 17:26:55,232 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:26:55,233 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 17:26:57,806 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 17:26:57,806 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 17:27:01,073 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 17:27:04,015 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 17:27:04,743 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 17:27:04,743 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:27:04,744 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 17:27:07,296 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 17:27:07,297 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 17:27:08,987 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 17:27:09,647 - src.trackrealties.agents.context - INFO - Created new context for session eac82c36-777c-4165-8d52-b3cf97ab9cb8
2025-07-21 17:27:09,648 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:27:09,648 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:27:09,649 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 17:27:09,649 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 17:27:10,079 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 17:27:10,079 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 17:27:10,080 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:27:10,080 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:27:10,080 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 17:27:10,080 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 17:27:10,379 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:27:11,220 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 17:27:15,503 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:27:15,503 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 17:27:16,911 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-21 17:27:16,917 - src.trackrealties.rag.validation - INFO - Validating response
2025-07-21 17:27:16,917 - src.trackrealties.rag.validation - INFO - Detecting hallucinations in response
2025-07-21 17:27:16,922 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: 1 validation error for AgentResponse
content
  Input should be a valid string [type=string_type, input_value=AgentRunResult(output='As...t is 5,000 properties.'), input_type=AgentRunResult]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 128, in run
    agent_response = AgentResponse(content=response_content)
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for AgentResponse
content
  Input should be a valid string [type=string_type, input_value=AgentRunResult(output='As...t is 5,000 properties.'), input_type=AgentRunResult]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-07-21 17:28:05,543 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 17:28:05,778 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 17:28:06,158 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 17:28:06,158 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 17:28:09,422 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 17:28:12,554 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 17:28:13,220 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 17:28:13,221 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:28:13,221 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 17:28:15,899 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 17:28:15,899 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 17:28:17,622 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 17:28:18,254 - src.trackrealties.agents.context - INFO - Created new context for session 9273d74c-0141-4bb0-adc6-8788ee0f4ae6
2025-07-21 17:28:18,255 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:28:18,255 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:28:18,256 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 17:28:18,256 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 17:28:18,686 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 17:28:18,686 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 17:28:18,687 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:28:18,687 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:28:18,687 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 17:28:18,688 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 17:28:18,981 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:28:20,004 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 17:28:23,742 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:28:23,743 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 17:28:25,665 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-21 17:28:25,669 - src.trackrealties.rag.validation - INFO - Validating response
2025-07-21 17:28:25,670 - src.trackrealties.rag.validation - INFO - Detecting hallucinations in response
2025-07-21 17:29:37,570 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 17:29:37,573 - src.trackrealties.agents.context - INFO - Created new context for session 74114711-79d1-4aa2-9798-cfb92cee6243
2025-07-21 17:29:37,574 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:29:37,574 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:29:37,574 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 17:29:37,575 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 17:29:37,996 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 17:29:37,997 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 17:29:37,997 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:29:37,997 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:29:37,998 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 17:29:37,998 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 17:29:37,998 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:29:39,871 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 17:29:41,321 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:29:41,322 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 17:29:43,602 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-21 17:29:43,651 - src.trackrealties.rag.validation - INFO - Validating response
2025-07-21 17:29:43,651 - src.trackrealties.rag.validation - INFO - Detecting hallucinations in response
2025-07-21 17:30:53,176 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 17:30:53,179 - src.trackrealties.agents.context - INFO - Created new context for session df605be2-4a0c-4160-bf0d-d26f7e01da41
2025-07-21 17:30:53,180 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:30:53,180 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:30:53,180 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 17:30:53,181 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 17:30:53,607 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 17:30:53,607 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 17:30:53,608 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:30:53,608 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:30:53,608 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 17:30:53,609 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 17:30:53,609 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:30:54,917 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 17:30:56,252 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:30:56,252 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 17:30:58,171 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-21 17:30:58,172 - src.trackrealties.rag.validation - INFO - Validating response
2025-07-21 17:30:58,173 - src.trackrealties.rag.validation - INFO - Detecting hallucinations in response
2025-07-21 17:32:22,003 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 17:32:22,270 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 17:32:22,551 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 17:32:22,551 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 17:34:23,532 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 17:34:26,756 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 17:34:27,446 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 17:34:27,446 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:34:27,447 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 17:34:30,005 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 17:34:30,006 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 17:35:11,409 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 17:35:12,050 - src.trackrealties.agents.context - INFO - Created new context for session 27b34cb6-9b50-48be-bac3-73cb93dbae61
2025-07-21 17:35:12,051 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:35:12,051 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:35:12,052 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 17:35:12,052 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 17:35:12,476 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 17:35:12,476 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 17:35:12,477 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 17:35:12,477 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 17:35:12,477 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 17:35:12,478 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 17:35:12,766 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:35:13,706 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 17:35:16,543 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 17:35:16,543 - src.trackrealties.rag.pipeline - INFO - Search results: [SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:949', result_type='graph_fact', title='No Title', content='Dallas, TX Market Report (city)\nDate: 2025-07-21\n\nKey Metrics:\n• Median Price: $400,000.00\n• Inventory Count: 5,000\n• Sales Volume: 1,000\n• Days on Market: 30\n• Months Supply: 5.00\n• Price per Sq Ft: $200.00\n\nSource: manual', relevance_score=0.5, similarity_score=None, source='manual', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:955', result_type='graph_fact', title='price_per_sqft', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:954', result_type='graph_fact', title='months_supply', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:953', result_type='graph_fact', title='days_on_market', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:952', result_type='graph_fact', title='sales_volume', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:951', result_type='graph_fact', title='inventory_count', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None), SearchResult(result_id='4:d18fd022-5c26-4b48-8de6-d2702f38ff8b:950', result_type='graph_fact', title='median_price', content='No Content', relevance_score=0.5, similarity_score=None, source='No Source', source_url=None, metadata={}, created_at=None, last_updated=None)]
2025-07-21 17:35:19,110 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-21 17:35:19,115 - src.trackrealties.rag.validation - INFO - Validating response
2025-07-21 17:35:19,115 - src.trackrealties.rag.validation - INFO - Detecting hallucinations in response
2025-07-21 20:45:39,719 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 20:45:44,657 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 20:45:45,471 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 20:45:45,472 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 20:45:45,472 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 20:45:49,529 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 20:45:49,530 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 20:46:21,433 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 20:46:22,243 - src.trackrealties.agents.context - INFO - Created new context for session 868a4db1-ca6b-4562-aae1-d1589b1f68e6
2025-07-21 20:46:22,243 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 20:46:22,243 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 20:46:22,244 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 20:46:22,245 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 20:46:22,789 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 20:46:22,789 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 20:46:22,790 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 20:46:22,790 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 20:46:22,790 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 20:46:22,791 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 20:46:23,205 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 20:46:25,047 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 20:46:27,166 - neo4j.notifications - WARNING - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownLabelWarning} {category: UNRECOGNIZED} {title: The provided label is not in the database.} {description: One of the labels in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing label name is: Market)} {position: line: 2, column: 46, offset: 46} for query: '\n        MATCH (l:Location)<-[:LOCATED_IN]-(m:Market)\n        WHERE l.name IN $locations\n        RETURN \n            elementId(m) AS id,\n            m.summary AS content,\n            "graph_fact" as result_type,\n            l.name + " Market Report" as title,\n            m.source AS source,\n            1.0 AS score\n        LIMIT $limit\n        '
2025-07-21 20:46:27,167 - neo4j.notifications - WARNING - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: summary)} {position: line: 6, column: 15, offset: 151} for query: '\n        MATCH (l:Location)<-[:LOCATED_IN]-(m:Market)\n        WHERE l.name IN $locations\n        RETURN \n            elementId(m) AS id,\n            m.summary AS content,\n            "graph_fact" as result_type,\n            l.name + " Market Report" as title,\n            m.source AS source,\n            1.0 AS score\n        LIMIT $limit\n        '
2025-07-21 20:46:33,043 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 20:46:33,043 - src.trackrealties.rag.pipeline - INFO - Search results: []
2025-07-21 20:46:33,044 - src.trackrealties.rag.validation - INFO - Validating response
2025-07-21 20:46:33,044 - src.trackrealties.rag.validation - INFO - Detecting hallucinations in response
2025-07-21 20:46:33,044 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: 'str' object has no attribute 'output'
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 128, in run
    agent_response = AgentResponse(content=response_content.output)
                                           ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'output'
2025-07-21 20:48:55,576 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 20:48:56,053 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 20:48:57,114 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 20:48:57,114 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 20:49:00,777 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 20:49:06,246 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 20:49:07,546 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 20:49:07,547 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 20:49:07,547 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 20:49:13,073 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 20:49:13,073 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 20:50:18,682 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 20:50:19,546 - src.trackrealties.agents.context - INFO - Created new context for session a157f90b-740b-4313-909a-0de0566c91d9
2025-07-21 20:50:19,546 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 20:50:19,547 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 20:50:19,547 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 20:50:19,548 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 20:50:20,028 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 20:50:20,029 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 20:50:20,029 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 20:50:20,030 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 20:50:20,030 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 20:50:20,030 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 20:50:20,410 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 20:50:22,901 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 20:50:25,436 - neo4j.notifications - WARNING - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownLabelWarning} {category: UNRECOGNIZED} {title: The provided label is not in the database.} {description: One of the labels in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing label name is: Market)} {position: line: 2, column: 46, offset: 46} for query: '\n        MATCH (l:Location)<-[:LOCATED_IN]-(m:Market)\n        WHERE l.name IN $locations\n        RETURN \n            elementId(m) AS id,\n            m.summary AS content,\n            "graph_fact" as result_type,\n            l.name + " Market Report" as title,\n            m.source AS source,\n            1.0 AS score\n        LIMIT $limit\n        '
2025-07-21 20:50:25,437 - neo4j.notifications - WARNING - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: summary)} {position: line: 6, column: 15, offset: 151} for query: '\n        MATCH (l:Location)<-[:LOCATED_IN]-(m:Market)\n        WHERE l.name IN $locations\n        RETURN \n            elementId(m) AS id,\n            m.summary AS content,\n            "graph_fact" as result_type,\n            l.name + " Market Report" as title,\n            m.source AS source,\n            1.0 AS score\n        LIMIT $limit\n        '
2025-07-21 20:50:32,547 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 20:50:32,547 - src.trackrealties.rag.pipeline - INFO - Search results: []
2025-07-21 20:50:32,548 - src.trackrealties.rag.validation - INFO - Validating response
2025-07-21 20:50:32,548 - src.trackrealties.rag.validation - INFO - Detecting hallucinations in response
2025-07-21 20:50:32,548 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: 'str' object has no attribute 'output'
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 128, in run
    agent_response = AgentResponse(content=response_content.output)
                                           ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'output'
2025-07-21 20:51:08,433 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 20:51:08,434 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 20:51:09,495 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 21:04:47,271 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 21:04:47,271 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 21:04:47,558 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 21:04:47,559 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 21:04:51,131 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 21:04:56,077 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 21:04:58,146 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 21:04:58,147 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 21:04:58,147 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 21:05:02,795 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 21:05:02,795 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 21:06:28,373 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 21:06:29,667 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 21:06:29,852 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 21:06:29,853 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 21:10:33,629 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 21:10:39,170 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 21:10:40,070 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 21:10:40,070 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 21:10:40,071 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 21:10:45,819 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 21:10:45,819 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 21:12:49,151 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 21:12:49,787 - src.trackrealties.agents.context - INFO - Created new context for session ac5f5c63-591d-4a72-a105-3fbaa75440fc
2025-07-21 21:12:49,788 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: RAGPipeline.generate_response() got an unexpected keyword argument 'search_results'
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 122, in run
    response_content = await self.dependencies.rag_pipeline.generate_response(
                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        query=message,
        ^^^^^^^^^^^^^^
        search_results=context.dict()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: RAGPipeline.generate_response() got an unexpected keyword argument 'search_results'
2025-07-21 21:14:21,667 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 21:14:21,953 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 21:14:31,496 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 21:14:31,496 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 21:14:34,666 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 21:14:47,750 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 21:14:49,314 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 21:14:49,315 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 21:14:49,316 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 21:15:05,670 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 21:15:05,670 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 21:15:57,869 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 21:15:58,262 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 21:15:59,182 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 21:15:59,182 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 21:16:02,260 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 21:16:14,084 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 21:16:15,498 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 21:16:15,499 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 21:16:15,499 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 21:16:26,844 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 21:16:26,844 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 21:20:25,374 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 21:20:31,314 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 21:20:32,705 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 21:20:32,706 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 21:20:32,706 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 21:20:38,906 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 21:20:38,906 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 21:21:30,804 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 21:21:31,442 - src.trackrealties.agents.context - INFO - Created new context for session a5a637b0-1812-4498-90fe-b6688751bc73
2025-07-21 21:21:31,443 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 21:21:31,443 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 21:21:31,444 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 21:21:31,444 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 21:21:31,871 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 21:21:31,871 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 21:21:31,871 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 21:21:31,872 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 21:21:31,872 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 21:21:31,872 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 21:21:32,169 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 21:21:34,705 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 21:21:37,906 - neo4j.notifications - WARNING - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownLabelWarning} {category: UNRECOGNIZED} {title: The provided label is not in the database.} {description: One of the labels in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing label name is: Market)} {position: line: 2, column: 46, offset: 46} for query: '\n        MATCH (l:Location)<-[:LOCATED_IN]-(m:Market)\n        WHERE l.name IN $locations\n        RETURN \n            elementId(m) AS id,\n            m.summary AS content,\n            "graph_fact" as result_type,\n            l.name + " Market Report" as title,\n            m.source AS source,\n            1.0 AS score\n        LIMIT $limit\n        '
2025-07-21 21:21:37,907 - neo4j.notifications - WARNING - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: summary)} {position: line: 6, column: 15, offset: 151} for query: '\n        MATCH (l:Location)<-[:LOCATED_IN]-(m:Market)\n        WHERE l.name IN $locations\n        RETURN \n            elementId(m) AS id,\n            m.summary AS content,\n            "graph_fact" as result_type,\n            l.name + " Market Report" as title,\n            m.source AS source,\n            1.0 AS score\n        LIMIT $limit\n        '
2025-07-21 21:21:42,111 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 21:21:42,111 - src.trackrealties.rag.pipeline - INFO - Search results: []
2025-07-21 21:21:42,112 - src.trackrealties.rag.validation - INFO - Validating response
2025-07-21 21:21:42,112 - src.trackrealties.rag.validation - INFO - Detecting hallucinations in response
2025-07-21 21:21:42,112 - src.trackrealties.agents.base - ERROR - Agent developer_agent failed to run: 'str' object has no attribute 'output'
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 127, in run
    agent_response = AgentResponse(content=response_content.output)
                                           ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'output'
2025-07-21 21:23:19,753 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 21:23:20,144 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 21:23:20,810 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 21:23:20,810 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 21:23:24,126 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 21:23:31,063 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 21:23:32,447 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 21:23:32,448 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 21:23:32,448 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 21:23:38,289 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 21:23:38,289 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 21:23:41,775 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 21:23:42,417 - src.trackrealties.agents.context - INFO - Created new context for session 23015c03-a5d3-43e6-aacb-4c7ea506e994
2025-07-21 21:23:42,417 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 21:23:42,417 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 21:23:42,418 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 21:23:42,418 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 21:23:42,853 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 21:23:42,853 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 21:23:42,854 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 21:23:42,854 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 21:23:42,854 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 21:23:42,855 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 21:23:43,152 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 21:23:44,899 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 21:23:48,576 - neo4j.notifications - WARNING - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownLabelWarning} {category: UNRECOGNIZED} {title: The provided label is not in the database.} {description: One of the labels in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing label name is: Market)} {position: line: 2, column: 46, offset: 46} for query: '\n        MATCH (l:Location)<-[:LOCATED_IN]-(m:Market)\n        WHERE l.name IN $locations\n        RETURN \n            elementId(m) AS id,\n            m.summary AS content,\n            "graph_fact" as result_type,\n            l.name + " Market Report" as title,\n            m.source AS source,\n            1.0 AS score\n        LIMIT $limit\n        '
2025-07-21 21:23:48,576 - neo4j.notifications - WARNING - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: summary)} {position: line: 6, column: 15, offset: 151} for query: '\n        MATCH (l:Location)<-[:LOCATED_IN]-(m:Market)\n        WHERE l.name IN $locations\n        RETURN \n            elementId(m) AS id,\n            m.summary AS content,\n            "graph_fact" as result_type,\n            l.name + " Market Report" as title,\n            m.source AS source,\n            1.0 AS score\n        LIMIT $limit\n        '
2025-07-21 21:23:51,236 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 21:23:51,236 - src.trackrealties.rag.pipeline - INFO - Search results: []
2025-07-21 21:23:51,237 - src.trackrealties.rag.validation - INFO - Validating response
2025-07-21 21:23:51,237 - src.trackrealties.rag.validation - INFO - Detecting hallucinations in response
2025-07-21 21:26:34,519 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 21:26:34,882 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 21:26:35,741 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 21:26:35,742 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 21:26:38,978 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 21:26:46,500 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 21:26:47,790 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 21:26:47,791 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 21:26:47,792 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 21:26:52,844 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 21:26:52,844 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 21:26:58,967 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 21:26:59,581 - src.trackrealties.api.routes.agents - ERROR - Agent chat failed for role developer: not enough values to unpack (expected 2, got 1)
Traceback (most recent call last):
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\api\routes\agents.py", line 54, in agent_chat
    agent = agent_class(deps=AgentDependencies(context_manager=context_manager))
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\developer.py", line 45, in __init__
    super().__init__(
    ~~~~~~~~~~~~~~~~^
        agent_name="developer_agent",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        deps=deps,
        ^^^^^^^^^^
    )
    ^
  File "C:\Users\david\OneDrive\Desktop\Track_Realties _AI\src\trackrealties\agents\base.py", line 84, in __init__
    provider, model_name = _model.split(":")
    ^^^^^^^^^^^^^^^^^^^^
ValueError: not enough values to unpack (expected 2, got 1)
2025-07-21 21:28:50,690 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 21:28:57,525 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 21:28:58,675 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 21:28:58,676 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 21:28:58,676 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 21:29:11,520 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 21:29:11,521 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 21:30:31,964 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 21:30:32,484 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 21:30:32,995 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 21:30:32,995 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 21:30:36,099 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 21:30:41,570 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 21:30:42,969 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 21:30:42,970 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 21:30:42,970 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 21:30:55,019 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 21:30:55,019 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 21:31:10,524 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 21:31:11,132 - src.trackrealties.agents.context - INFO - Created new context for session f16f6ce1-2e40-4d43-8acc-0bec76a5af82
2025-07-21 21:31:11,132 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 21:31:11,132 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 21:31:11,133 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 21:31:11,133 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 21:31:11,552 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 21:31:11,552 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 21:31:11,552 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 21:31:11,553 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 21:31:11,553 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 21:31:11,553 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 21:31:11,832 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 21:31:13,370 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 21:31:17,667 - neo4j.notifications - WARNING - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownLabelWarning} {category: UNRECOGNIZED} {title: The provided label is not in the database.} {description: One of the labels in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing label name is: Market)} {position: line: 2, column: 46, offset: 46} for query: '\n        MATCH (l:Location)<-[:LOCATED_IN]-(m:Market)\n        WHERE l.name IN $locations\n        RETURN \n            elementId(m) AS id,\n            m.summary AS content,\n            "graph_fact" as result_type,\n            l.name + " Market Report" as title,\n            m.source AS source,\n            1.0 AS score\n        LIMIT $limit\n        '
2025-07-21 21:31:17,667 - neo4j.notifications - WARNING - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: summary)} {position: line: 6, column: 15, offset: 151} for query: '\n        MATCH (l:Location)<-[:LOCATED_IN]-(m:Market)\n        WHERE l.name IN $locations\n        RETURN \n            elementId(m) AS id,\n            m.summary AS content,\n            "graph_fact" as result_type,\n            l.name + " Market Report" as title,\n            m.source AS source,\n            1.0 AS score\n        LIMIT $limit\n        '
2025-07-21 21:31:20,328 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 21:31:20,328 - src.trackrealties.rag.pipeline - INFO - Search results: []
2025-07-21 21:31:20,328 - src.trackrealties.rag.validation - INFO - Validating response
2025-07-21 21:31:20,328 - src.trackrealties.rag.validation - INFO - Detecting hallucinations in response
2025-07-21 21:31:57,951 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 21:32:02,389 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 21:32:03,296 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 21:32:03,296 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 21:32:03,297 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 21:32:08,003 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 21:32:08,003 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 21:32:34,014 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 21:32:34,317 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 21:32:35,273 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 21:32:35,273 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 21:33:38,653 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 21:33:46,707 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 21:33:48,308 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 21:33:48,309 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 21:33:48,310 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 21:33:55,608 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 21:33:55,609 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 21:37:10,948 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 21:37:11,606 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 21:37:11,925 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 21:37:11,925 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 21:37:14,973 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 21:37:21,294 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 21:37:22,403 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 21:37:22,403 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 21:37:22,404 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 21:37:25,905 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 21:37:27,829 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 21:37:27,829 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 21:37:32,149 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 21:37:34,070 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 21:37:34,070 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 21:37:34,070 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 21:40:27,610 - src.trackrealties.agents.context - INFO - Initialized ContextManager
2025-07-21 21:40:28,240 - src.trackrealties.agents.context - INFO - Created new context for session d1572e49-2b29-403e-8421-841c00f57607
2025-07-21 21:40:28,241 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 21:40:28,241 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 21:40:28,242 - src.trackrealties.rag.pipeline - INFO - Extracted entities: [{'name': 'Dallas, TX', 'type': 'LOCATION'}]
2025-07-21 21:40:28,242 - src.trackrealties.rag.pipeline - INFO - Search filters: {}
2025-07-21 21:40:28,661 - src.trackrealties.rag.embedders - INFO - Initialized OpenAI embedder with model: text-embedding-3-small
2025-07-21 21:40:28,662 - src.trackrealties.rag.search - INFO - Vector search initialized
2025-07-21 21:40:28,662 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 21:40:28,662 - src.trackrealties.rag.entity_extractor - INFO - Entity extractor initialized.
2025-07-21 21:40:28,663 - src.trackrealties.rag.search - INFO - Graph search initialized
2025-07-21 21:40:28,663 - src.trackrealties.rag.search - INFO - Hybrid search initialized
2025-07-21 21:40:28,943 - src.trackrealties.rag.entity_extractor - INFO - Extracting entities from: What is the median price and inventory count in Dallas, TX?
2025-07-21 21:40:31,226 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-07-21 21:40:34,758 - neo4j.notifications - WARNING - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownLabelWarning} {category: UNRECOGNIZED} {title: The provided label is not in the database.} {description: One of the labels in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing label name is: Market)} {position: line: 2, column: 46, offset: 46} for query: '\n        MATCH (l:Location)<-[:LOCATED_IN]-(m:Market)\n        WHERE l.name IN $locations\n        RETURN \n            elementId(m) AS id,\n            m.summary AS content,\n            "graph_fact" as result_type,\n            l.name + " Market Report" as title,\n            m.source AS source,\n            1.0 AS score\n        LIMIT $limit\n        '
2025-07-21 21:40:34,759 - neo4j.notifications - WARNING - Received notification from DBMS server: {severity: WARNING} {code: Neo.ClientNotification.Statement.UnknownPropertyKeyWarning} {category: UNRECOGNIZED} {title: The provided property key is not in the database} {description: One of the property names in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing property name is: summary)} {position: line: 6, column: 15, offset: 151} for query: '\n        MATCH (l:Location)<-[:LOCATED_IN]-(m:Market)\n        WHERE l.name IN $locations\n        RETURN \n            elementId(m) AS id,\n            m.summary AS content,\n            "graph_fact" as result_type,\n            l.name + " Market Report" as title,\n            m.source AS source,\n            1.0 AS score\n        LIMIT $limit\n        '
2025-07-21 21:40:38,171 - src.trackrealties.rag.search - INFO - Hybrid search for: What is the median price and inventory count in Dallas, TX?
2025-07-21 21:40:38,172 - src.trackrealties.rag.pipeline - INFO - Search results: []
2025-07-21 21:40:38,172 - src.trackrealties.rag.validation - INFO - Validating response
2025-07-21 21:40:38,172 - src.trackrealties.rag.validation - INFO - Detecting hallucinations in response
2025-07-21 21:41:28,827 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 21:41:29,109 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 21:41:29,776 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 21:41:29,776 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 22:03:52,960 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 22:03:57,083 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 22:03:57,901 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 22:03:57,902 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 22:03:57,902 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 22:04:02,190 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 22:04:02,190 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 22:04:08,180 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 22:04:08,494 - src.trackrealties.core.database - INFO - Database connection pool closed
2025-07-21 22:04:08,696 - src.trackrealties.core.graph - INFO - Neo4j driver closed.
2025-07-21 22:04:08,696 - src.trackrealties.api.main - INFO - Connections closed.
2025-07-21 22:04:27,981 - src.trackrealties.api.main - INFO - Starting up TrackRealties AI API...
2025-07-21 22:04:31,701 - src.trackrealties.core.database - INFO - Database connection pool initialized
2025-07-21 22:04:32,502 - src.trackrealties.core.database - INFO - Database connection successful.
2025-07-21 22:04:32,503 - src.trackrealties.core.graph - INFO - Neo4j driver initialized.
2025-07-21 22:04:32,503 - src.trackrealties.core.graph - INFO - Testing Neo4j connection...
2025-07-21 22:04:36,308 - src.trackrealties.core.graph - INFO - Neo4j connection test successful.
2025-07-21 22:04:36,308 - src.trackrealties.api.main - INFO - TrackRealties AI API startup complete.
2025-07-21 22:35:19,651 - src.trackrealties.api.main - INFO - Shutting down TrackRealties AI API...
2025-07-21 22:35:19,653 - src.trackrealties.core.database - INFO - Database connection pool closed
